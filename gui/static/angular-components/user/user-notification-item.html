<div ng-class="{ 'pending': notification.is_pending, 'has-link': notification.link }">
  <!-- Either the notification is shown as regular link to some source item -->
  <a ng-if="!notification.isFileDownload" ng-click="controller.openReference()">
    <div class="notification-icon">
      <i ng-if="notification.reference.type === 'DISCOVERY'" class="fa fa-binoculars"></i>
      <i ng-if="notification.reference.hunt" class="fa fa-crosshairs"></i>
      <i ng-if="notification.reference.flow" class="fa fa-code-fork"></i>
      <i ng-if="notification.reference.vfs_file" class="fa fa-hdd-o"></i>
      <i ng-if="notification.reference.approval_request" class="fa fa-unlock"></i>
      <i ng-if="notification.reference.type === 'HUNT_APPROVAL'" class="fa fa-unlock"></i>
      <i ng-if="notification.reference.type === 'CRON_JOB_APPROVAL'" class="fa fa-unlock"></i>
    </div>

    <div class="notification-content">
      {{ notification.message }}
      <grr-timestamp value="::notification.timestamp"></grr-timestamp>
    </div>

    <div class="no-link-indicator" ng-if="!notification.link">
      <i class="fa fa-chain-broken"></i>
      This is a LEGACY notification (therefore it's not clickable)
    </div>
  </a>

  <div ng-if="notification.isFileDownload">
    <div class="notification-icon">
      <i class="fa fa-download"></i>
    </div>
    <div class="notification-content">
      {{ notification.message }}
      <grr-timestamp value="::notification.timestamp"></grr-timestamp>
    </div>
    <div class="no-link-indicator">
      <i class="fa fa-chain-broken"></i>
      This is a LEGACY file download notification (therefore it's not clickable)
    </div>
  </div>
</div>
