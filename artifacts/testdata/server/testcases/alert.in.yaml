Queries:

# Send 10 alerts in a row.
- LET _ <= SELECT alert(
       name="AlertName", event_id=_value,
       timestamp=now(), detail=["Foo", "Bar"])
  FROM range(end=10)

- LET Logs <= SELECT * FROM test_read_logs() WHERE NOT Log =~ "SELECT"

# There should be one alert emitted at level ALERT
- SELECT count() FROM Logs WHERE Log =~ "ALERT:" GROUP BY 1

# There should be 9 alerts emitted at level INFO
- SELECT count() FROM Logs WHERE Log =~ "INFO:" GROUP BY 1
